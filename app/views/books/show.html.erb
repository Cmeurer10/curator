<div class="platform">
	<div class="row">
		<div class="col-md-8 book-content">
			<p id="text" spellcheck="false">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus autem aperiam, eius. Explicabo magnam vel sequi ratione. Placeat quo error, excepturi asperiores ut, maxime officia natus, voluptatibus repellendus a veritatis.  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Numquam doloribus quisquam, quia nisi magni vitae nostrum sunt accusamus facere eum, nam laudantium est maxime quasi rem sit. Placeat, iusto possimus!</p>
		</div>
		<div class="col-md-4 conversation">
			<h2>Conversation starts here</h2>		
		</div>
	</div>
</div>


<% content_for :javascript do %>
  <script type="text/javascript">

  // v 1,0

     $(document).ready(function(){
		 $(document).bind('keypress',pressed);
		    var userSelection;
		    if (window.getSelection) {
		        userSelection = window.getSelection();
		    }
		    else if (document.selection) { // should come last; Opera!
		        userSelection = document.selection.createRange();
		    }
		  function pressed(e)
		    {
		    if(e.keyCode === 13)
		    {

			    var node = document.getElementById('text');
				// htmlContent = node.innerHTML,
				// // htmlContent = "Some <span class="foo">sample</span> text."

				textContent = node.textContent;
				// textContent = "Some sample text."
			    
		    	// selectAndHighlightRange('text', selectStart, selectEnd);
		        alert(userSelection);
		        highlight("yellow");
		        // $(userSelection).wrap("<span class='red'></span>")
		        // selectAndHighlightRange('text', 22, 30)
		        console.log(textContent.indexOf(userSelection));
		        //put button.click() here
		    }
		}
	}); 



  </script>

<% end %>